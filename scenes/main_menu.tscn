[gd_scene load_steps=31 format=3 uid="uid://cc5a2txvcsmjt"]

[ext_resource type="Script" uid="uid://d1m8ni62yfxlc" path="res://scripts/main_menu.gd" id="1_l6cm7"]
[ext_resource type="Script" uid="uid://dlvmfqij2g0ha" path="res://scripts/classes/puzzle_level.gd" id="2_8ln24"]
[ext_resource type="Resource" uid="uid://vaeflrhhbexi" path="res://levels/level_2_1/level_2_1.tres" id="3_5dd4i"]
[ext_resource type="Resource" uid="uid://dijfrcxjhmln4" path="res://levels/level_1-1.tres" id="3_rtw2f"]
[ext_resource type="Resource" uid="uid://cfmsthr6baae4" path="res://levels/level_1-5.tres" id="3_tbmy8"]
[ext_resource type="Resource" uid="uid://ck1qp7gcmxs6c" path="res://levels/level_1-2.tres" id="4_oa1go"]
[ext_resource type="Resource" uid="uid://drbvjcp5nrume" path="res://levels/level_1-3.tres" id="5_tbmy8"]
[ext_resource type="Resource" uid="uid://bfeek6limlyec" path="res://levels/level_1-4.tres" id="6_oa1go"]
[ext_resource type="Theme" uid="uid://cbatwpb6ydnvr" path="res://assets/main_menu_theme.tres" id="6_rtw2f"]
[ext_resource type="Resource" uid="uid://700633a2wn6b" path="res://levels/level_1-6.tres" id="8_jk1qb"]
[ext_resource type="Resource" uid="uid://b6xdwvwsdb1vt" path="res://levels/level_2_2.tres" id="10_flqon"]
[ext_resource type="Script" uid="uid://uyds5miy56i0" path="res://scripts/classes/sequencer_track_settings.gd" id="10_lgwnu"]
[ext_resource type="Resource" uid="uid://bxf0kn18ym8ko" path="res://levels/level_2_3.tres" id="11_flqon"]
[ext_resource type="Resource" uid="uid://dm3ug103awsr2" path="res://levels/level_2_4.tres" id="12_1ajci"]
[ext_resource type="Resource" uid="uid://e1t8levjqjq0" path="res://levels/level_2_5.tres" id="13_1ajci"]
[ext_resource type="Resource" uid="uid://fo5md1sgj0u2" path="res://levels/level_2_6.tres" id="14_a8gd2"]
[ext_resource type="Resource" uid="uid://bj4ikhdkiqcna" path="res://levels/level_2_7.tres" id="15_hstxw"]
[ext_resource type="Resource" uid="uid://baq6lpxn2soy0" path="res://levels/level_2_8.tres" id="16_8egab"]
[ext_resource type="PackedScene" uid="uid://duqnwl4lwb5fn" path="res://scenes/volume_slider.tscn" id="18_hstxw"]
[ext_resource type="FontFile" uid="uid://cnros5ufijo10" path="res://assets/fonts/Positive System.otf" id="19_gw5y6"]
[ext_resource type="PackedScene" uid="uid://b1r084b8sxtdm" path="res://scenes/crt_effect.tscn" id="20_8egab"]
[ext_resource type="PackedScene" uid="uid://bx0u14bty8rqm" path="res://scenes/polyphonic_audio_player.tscn" id="22_3wgol"]
[ext_resource type="Script" uid="uid://b0t3mmdcvowi7" path="res://scripts/classes/audio_library.gd" id="23_1acrt"]
[ext_resource type="Script" uid="uid://xwsen5j60ci3" path="res://scripts/classes/sound_effect.gd" id="24_vr8o3"]
[ext_resource type="AudioStream" uid="uid://dq0qo3r1ygprn" path="res://assets/audio/theme.wav" id="25_1a85y"]

[sub_resource type="Resource" id="Resource_gw5y6"]
script = ExtResource("10_lgwnu")
track_radius = 200
step_radius = 15
num_steps = 32
goal_pattern = Array[int]([0, 2, 4, 5, 6, 5, 4, 2, 3, 4, 5, 4, 3, 2, 1, 0, 4, 5, 6, 7, 6, 5, 4, 2, 3, 4, 5, 4, 3, 2, 1, 0])
metadata/_custom_type_script = "uid://uyds5miy56i0"

[sub_resource type="Resource" id="Resource_svtp6"]
script = ExtResource("10_lgwnu")
track_radius = 150
step_radius = 10
num_steps = 32
goal_pattern = Array[int]([0, -1, 4, -1, 5, -1, 4, -1, 3, -1, 5, 4, 3, 2, 1, 0, 4, -1, 3, -1, 0, -1, 4, -1, 4, -1, 5, 4, 3, 2, 1, 0])
metadata/_custom_type_script = "uid://uyds5miy56i0"

[sub_resource type="Resource" id="Resource_1dfpl"]
script = ExtResource("2_8ln24")
level_name = "Level 2-8"
description = "Just a minuet."
bpm = 160
max_score = 1000
score_penalty = 100
best_score = 0
track_settings = Array[ExtResource("10_lgwnu")]([SubResource("Resource_gw5y6"), SubResource("Resource_svtp6")])
cubes = false
minor = false
metadata/_custom_type_script = "uid://dlvmfqij2g0ha"

[sub_resource type="Resource" id="Resource_hl5e0"]
script = ExtResource("24_vr8o3")
tag = "theme"
stream = ExtResource("25_1a85y")
metadata/_custom_type_script = "uid://xwsen5j60ci3"

[sub_resource type="Resource" id="Resource_engjn"]
script = ExtResource("23_1acrt")
sound_effects = Array[ExtResource("24_vr8o3")]([SubResource("Resource_hl5e0")])
metadata/_custom_type_script = "uid://b0t3mmdcvowi7"

[node name="MainMenu" type="Node2D"]
script = ExtResource("1_l6cm7")
all_levels = Array[ExtResource("2_8ln24")]([ExtResource("3_rtw2f"), ExtResource("4_oa1go"), ExtResource("5_tbmy8"), ExtResource("6_oa1go"), ExtResource("3_tbmy8"), ExtResource("8_jk1qb"), ExtResource("3_5dd4i"), ExtResource("10_flqon"), ExtResource("11_flqon"), ExtResource("12_1ajci"), ExtResource("13_1ajci"), ExtResource("14_a8gd2"), ExtResource("15_hstxw"), ExtResource("16_8egab"), SubResource("Resource_1dfpl")])

[node name="MainMenuUI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 1152.0
offset_bottom = 648.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="ColorRect" type="ColorRect" parent="MainMenuUI"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -576.0
offset_top = -324.0
offset_right = 576.0
offset_bottom = 324.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.000367875, 0.0877424, 0.102399, 1)

[node name="BoxContainer" type="BoxContainer" parent="MainMenuUI"]
layout_mode = 0
offset_right = 1152.0
offset_bottom = 648.0
alignment = 1
vertical = true

[node name="TitleRichTextLabel" type="RichTextLabel" parent="MainMenuUI/BoxContainer"]
custom_minimum_size = Vector2(0, 61.375)
layout_mode = 2
theme = ExtResource("6_rtw2f")
theme_override_fonts/normal_font = ExtResource("19_gw5y6")
theme_override_font_sizes/normal_font_size = 128
bbcode_enabled = true
text = "[shake rate=2.0 level=2 connected=1]CR//KLS[/shake]"
fit_content = true
horizontal_alignment = 1
vertical_alignment = 1

[node name="SubtitleRichTextLabel" type="RichTextLabel" parent="MainMenuUI/BoxContainer"]
custom_minimum_size = Vector2(0, 54.905)
layout_mode = 2
theme = ExtResource("6_rtw2f")
theme_override_font_sizes/italics_font_size = 24
bbcode_enabled = true
text = "[wave amp=15.0 freq=3 connected=1][i]a circular music sequencer puzzle game[/i][/wave]"
fit_content = true
horizontal_alignment = 1

[node name="PlayAllLevelsButton" type="Button" parent="MainMenuUI/BoxContainer"]
custom_minimum_size = Vector2(300, 50)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme = ExtResource("6_rtw2f")
text = "Play All Levels"

[node name="LevelSelectButton" type="Button" parent="MainMenuUI/BoxContainer"]
custom_minimum_size = Vector2(300, 50)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme = ExtResource("6_rtw2f")
text = "Level Select"

[node name="FreeplayModeButton" type="Button" parent="MainMenuUI/BoxContainer"]
custom_minimum_size = Vector2(300, 50)
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme = ExtResource("6_rtw2f")
disabled = true
text = "Freeplay Mode"

[node name="VolumeSlider" parent="MainMenuUI" instance=ExtResource("18_hstxw")]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -246.0
offset_top = -39.0
offset_right = 0.0
offset_bottom = 0.0
grow_horizontal = 0
grow_vertical = 0

[node name="CrtEffect" parent="MainMenuUI" instance=ExtResource("20_8egab")]
layout_mode = 1

[node name="PolyphonicAudioPlayer" parent="." instance=ExtResource("22_3wgol")]
position = Vector2(1370.16, 381.155)
audio_library = SubResource("Resource_engjn")
